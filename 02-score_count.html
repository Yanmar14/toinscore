<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゲーム - スコア集計</title>
    <style>
        .score-button {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 18px;
            margin: 10px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .score-button:hover {
            transform: scale(1.1);
        }

        .score-50 { background-color: #e74c3c; }  /* 赤 */
        .score-100 { background-color: #3498db; } /* 青 */
        .score-500 { background-color: #2ecc71; } /* 緑 */
        .score-1000 { background-color: #f1c40f; } /* 黄 */
        .score-2000 { background-color: #9b59b6; } /* 紫 */
    </style>
    <script>
        let player1Score = 0;
        let player2Score = 0;

        function addScore(player, score) {
            if (player === 'player1') {
                player1Score += score;
            } else {
                player2Score += score;
            }
        }

        function endGame() {
            // 確認ダイアログを表示
            const userConfirmed = confirm("本当に終了してもよろしいですか？");
            if (userConfirmed) {
                // ユーザーがOKを選択した場合、次のページに移動
                const player1 = document.getElementById('player1Name').innerText;
                const player2 = document.getElementById('player2Name').innerText;
                const url = `03-score_display.html?player1Score=${player1Score}&player2Score=${player2Score}&player1=${encodeURIComponent(player1)}&player2=${encodeURIComponent(player2)}`;
                window.location.href = url;
            } else {
                // ユーザーがキャンセルを選択した場合、何もしない
                return false;
            }
        }

        window.onload = function() {
            // URLからプレーヤーの名前を取得
            const params = new URLSearchParams(window.location.search);
            document.getElementById('player1Name').innerText = params.get('player1');
            document.getElementById('player2Name').innerText = params.get('player2');
        }
    </script>
</head>
<body>
    <h1>スコア集計</h1>
    <div>
        <h2 id="player1Name"></h2>
        <button onclick="addScore('player1', 50)">50</button>
        <button onclick="addScore('player1', 100)">100</button>
        <button onclick="addScore('player1', 500)">500</button>
        <button onclick="addScore('player1', 1000)">1000</button>
        <button onclick="addScore('player1', 2000)">2000</button>
    </div>
    <div>
        <h2 id="player2Name"></h2>
        <button onclick="addScore('player2', 50)">50</button>
        <button onclick="addScore('player2', 100)">100</button>
        <button onclick="addScore('player2', 500)">500</button>
        <button onclick="addScore('player2', 1000)">1000</button>
        <button onclick="addScore('player2', 2000)">2000</button>
    </div>
    <button onclick="endGame()">終了</button>
</body>
</html>
